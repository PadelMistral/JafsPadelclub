<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#020617">
    <title>Ranking | Padeluminatis Pro</title>
    <meta name="description" content="Clasificación ELO del circuito Padeluminatis">
    <link rel="icon" type="image/x-icon" href="./imagenes/Logojafs.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/design-system.css">
    <link rel="stylesheet" href="./css/layout.css">
    <link rel="stylesheet" href="./css/components-premium.css">
    <link rel="stylesheet" href="./css/themes.css">
    <link rel="stylesheet" href="./css/ranking.css">
    <link rel="stylesheet" href="./css/final-premium.css">
</head>

<body>
    <!-- Galactic Background -->
    <div class="sport-bg"></div>

    <!-- Header & Nav injected by JS -->

    <main class="page-content ranking-page" style="padding-top: 80px; padding-bottom: 100px;">
        <!-- Top 3 Premium Section -->
        <div class="ranking-header-v7 animate-fade-in text-center mb-10">
            <h1 class="text-3xl font-black italic tracking-tighter text-white">PODIO <span
                    class="text-primary">ESTELAR</span></h1>
            <p class="text-[10px] font-bold text-muted uppercase tracking-[4px]">Los mejores del circuito</p>
        </div>

        <div class="ranking-podium-v7 animate-fade-in mb-10">
            <!-- Rank 2: SILVER (Cyan Semantic) -->
            <div class="podium-item silver animate-up" onclick="viewProfile(window.podiumData[1]?.id)"
                style="animation-delay: 0.1s;">
                <div class="podium-badge"><i class="fas fa-medal"></i></div>
                <div class="podium-avatar-wrapper" id="p-av-2"></div>
                <div class="podium-info">
                    <span class="p-name" id="p-name-2">...</span>
                    <span class="p-pts" id="p-pts-2">0</span>
                </div>
                <div class="podium-base base-cyan"></div>
            </div>

            <!-- Rank 1: GOLD (Gold Semantic) -->
            <div class="podium-item gold animate-up" onclick="viewProfile(window.podiumData[0]?.id)">
                <div class="podium-badge gold"><i class="fas fa-crown"></i></div>
                <div class="podium-avatar-wrapper lg" id="p-av-1"></div>
                <div class="podium-info">
                    <span class="p-name" id="p-name-1">...</span>
                    <span class="p-pts" id="p-pts-1">0</span>
                </div>
                <div class="podium-base base-gold"></div>
            </div>

            <!-- Rank 3: BRONZE (Magenta Semantic) -->
            <div class="podium-item bronze animate-up" onclick="viewProfile(window.podiumData[2]?.id)"
                style="animation-delay: 0.2s;">
                <div class="podium-badge bronze"><i class="fas fa-award"></i></div>
                <div class="podium-avatar-wrapper" id="p-av-3"></div>
                <div class="podium-info">
                    <span class="p-name" id="p-name-3">...</span>
                    <span class="p-pts" id="p-pts-3">0</span>
                </div>
                <div class="podium-base base-magenta"></div>
            </div>
        </div>

        <!-- Full Leaderboard Table (Second) -->
        <section class="leaderboard-section animate-fade-in" style="animation-delay: 0.1s;">
            <div class="section-header">
                <h2 class="section-title">Clasificación General</h2>
            </div>

            <!-- Table Headers -->
            <div class="lb-header-row">
                <span class="lb-h-rank">#</span>
                <span class="lb-h-player">JUGADOR</span>
                <span class="lb-h-level">NIVEL</span>
                <span class="lb-h-stats">STATS</span>
                <span class="lb-h-pts">ELO</span>
            </div>

            <div id="lb-list" class="leaderboard-list">
                <!-- Skeleton rows while loading -->
                <div class="lb-row skeleton-entry">
                    <div class="skeleton w-8 h-8 rounded-lg"></div>
                    <div class="flex-col gap-1 flex-1">
                        <div class="skeleton h-4 w-32"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- My Position Card (Third) -->
        <section class="my-rank-card animate-fade-in" style="animation-delay: 0.2s;">
            <div class="rank-glow"></div>
            <div class="rank-content">
                <div class="rank-header">
                    <div class="rank-position-area">
                        <span class="rank-label">Tu Posición Actual</span>
                        <div class="rank-position-row">
                            <span class="rank-number" id="my-rank">#-</span>
                            <span class="rank-trend up" id="rank-trend"><i class="fas fa-arrow-up"></i> -</span>
                        </div>
                    </div>
                    <div class="rank-points-area">
                        <span class="rank-label">Puntos ELO</span>
                        <span class="rank-points" id="my-pts">0</span>
                    </div>
                </div>

                <div class="level-progress-row">
                    <div class="level-bar">
                        <div class="level-fill" id="level-fill" style="width: 50%"></div>
                    </div>
                    <div
                        class="level-labels flex-row between w-full text-[10px] font-black uppercase text-muted tracking-widest mt-2 px-1">
                        <span id="level-prev" class="opacity-50">2.0</span>
                        <span class="text-primary">NIVEL <span id="my-level">2.5</span></span>
                        <span id="level-next" class="opacity-50">3.0</span>
                    </div>
                </div>

                <p class="rank-meta-text" id="rank-meta-text"></p>
            </div>
        </section>

        <!-- Points History (Fourth) -->
        <section class="history-section animate-fade-in" style="animation-delay: 0.3s;">
            <div class="section-header">
                <h2 class="section-title">Historial de Puntos</h2>
            </div>
            <div id="points-history" class="history-list">
                <!-- Loaded by JS -->
            </div>
        </section>

    </main>

    <!-- User Profile Modal -->
    <div id="modal-user" class="modal-overlay">
        <div class="modal-sheet" id="user-detail-area"></div>
    </div>

    <!-- Match Detail Modal -->
    <div id="modal-match-detail" class="modal-overlay">
        <div class="modal-sheet" id="match-breakdown-area"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="./js/ranking.js?v=6.5"></script>
    <script type="module">
        import { initGalaxyBackground } from './js/modules/galaxy-bg.js?v=6.5';
        import { initThemeSystem } from './js/modules/theme-manager.js?v=6.5';
        initThemeSystem();
        initGalaxyBackground();
    </script>

</body>

</html>