<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#020617">
    <title>Home | Padeluminatis Pro</title>
    <meta name="description" content="Panel principal de Padeluminatis">
    <link rel="icon" type="image/x-icon" href="./imagenes/Logojafs.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/core-bundle.css">
    <link rel="stylesheet" href="./css/themes.css">
    <link rel="stylesheet" href="./css/home.css">
    <link rel="stylesheet" href="./css/premium-v7.css">
</head>
<body>
    <div class="sport-bg"></div>

    <main class="page-content home-main" style="padding-top: 75px; padding-bottom: 95px;">
        <div class="container px-2">
            <section class="card card-premium animate-fade-in">
                <div class="card-glow"></div>
                <div class="flex-row between items-center gap-3">
                    <div class="flex-col gap-1">
                        <span class="text-xs font-black uppercase tracking-widest text-primary">Bienvenida</span>
                        <h1 id="greeting-text" class="text-2xl font-black italic">BIENVENIDO</h1>
                        <div class="flex-row items-center gap-2">
                            <span id="user-name" class="text-sm font-bold text-white">Jugador</span>
                            <span id="user-rank" class="text-xs font-black text-primary">#-</span>
                        </div>
                        <div id="online-count-display" class="text-xs text-muted mt-1">0 ONLINE</div>
                        <span id="user-family-pts" class="text-[10px] text-muted uppercase tracking-widest"></span>
                    </div>
                    <div class="avatar-xl" style="width:64px;height:64px;border-radius:16px;overflow:hidden;border:1px solid rgba(255,255,255,0.1)">
                        <img id="welcome-avatar" src="./imagenes/Logojafs.png" alt="Avatar" style="width:100%;height:100%;object-fit:cover;">
                    </div>
                </div>
            </section>

            <section id="next-match-container" class="mt-3"></section>

            <section class="card card-glass mt-3 animate-fade-in" style="animation-delay:0.05s;">
                <div class="card-header">
                    <div>
                        <div class="card-subtitle">Resumen</div>
                        <div class="card-title">Tus estadísticas</div>
                    </div>
                    <span id="online-count-next" class="text-xs text-muted"></span>
                </div>
                <div class="grid gap-3" style="grid-template-columns: repeat(2, minmax(0,1fr));">
                    <div class="stat-chip">
                        <span class="label">Puntos</span>
                        <span id="stat-pts" class="value">0</span>
                    </div>
                    <div class="stat-chip">
                        <span class="label">Victorias</span>
                        <span id="stat-wins" class="value">0</span>
                    </div>
                    <div class="stat-chip">
                        <span class="label">Partidos</span>
                        <span id="stat-matches" class="value">0</span>
                    </div>
                    <div class="stat-chip">
                        <span class="label">Winrate</span>
                        <span id="stat-winrate" class="value">0%</span>
                    </div>
                    <div class="stat-chip" style="grid-column: span 2;">
                        <span class="label">Nivel</span>
                        <span id="stat-level" class="value">2.5</span>
                    </div>
                </div>
                <div class="mt-3">
                    <div class="flex-row between text-xs font-black mb-1">
                        <span id="home-level-lower">2.5</span>
                    <span id="home-level-current">Nivel 2.50</span>
                        <span id="home-level-upper">3.0</span>
                    </div>
                    <div class="progress-bar" style="height:10px;border-radius:999px;overflow:hidden;background:rgba(255,255,255,0.08)">
                        <div id="home-level-bar" style="height:100%;width:0%;background:var(--gradient-neon)"></div>
                    </div>
                    <div id="home-level-points" class="text-xs text-muted mt-2"></div>
                </div>
            </section>

            <section class="mt-3">
                <div class="flex-row between items-center mb-2">
                    <h2 class="text-sm font-black uppercase tracking-widest text-muted">Partidos abiertos</h2>
                    <span id="online-count-library" class="text-xs text-muted"></span>
                </div>
                <div id="match-feed" class="flex-col gap-3"></div>
            </section>

            <section class="mt-3 grid gap-3" style="grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));">
                <div id="last-match-box" class="card card-glass"></div>
                <div id="tip-box" class="card card-glass"></div>
            </section>

            <section id="ai-welcome-msg" class="card card-glass mt-3">
                <div class="card-header">
                    <div>
                        <div class="card-subtitle">Coach</div>
                        <div class="card-title">IA Padeluminatis</div>
                    </div>
                </div>
                <div class="ai-quote text-sm text-muted">Listo para analizar tus datos cuando quieras.</div>
            </section>

            <div id="weather-forecast-card" class="hidden"></div>
            <div id="matrix-feed-container" class="hidden"></div>
            <div id="home-achievements" class="hidden"></div>
            <div id="quick-weather" class="hidden"></div>
        </div>
    </main>

    <div id="modal-match" class="modal-overlay">
        <div class="modal-card glass-strong slide-up">
            <div class="modal-header">
                <div class="flex-col">
                    <h3 class="modal-title text-accent" id="modal-titulo">PARTIDO</h3>
                    <span class="text-xs text-muted">Detalles del encuentro</span>
                </div>
                <button class="close-btn" onclick="document.getElementById('modal-match').classList.remove('active')">&times;</button>
            </div>
            <div class="modal-body scroll-y" id="match-detail-area" style="max-height: 80vh;"></div>
        </div>
    </div>

    <script type="module" src="./js/home-logic.js?v=6.5"></script>
    <script type="module">
        import { initGalaxyBackground } from './js/modules/galaxy-bg.js?v=6.5';
        import { initThemeSystem } from './js/modules/theme-manager.js?v=6.5';
        initThemeSystem();
        initGalaxyBackground();
    </script>
</body>
</html>

